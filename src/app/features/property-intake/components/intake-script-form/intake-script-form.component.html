<form class="pb-6 min-h-full flex flex-col justify-start relative" [formGroup]="form" [readOnlyForm]="readOnly"
  [messageToDisplayOnCLick]="form.valid ? 'Click edit to make changes':'Please fill the above form'"
  appForm="submit-intake-script-offer">

  <div class="flex items-center  w-1/2 justify-between 2xl:w-full md:flex-col">
    <mat-label class="md:flex-col 2xl:w-full">Able to Notarize </mat-label>
    <div class="md:w-full text-left [min-width:300px]">
      <mat-radio-group aria-label="Select an option" formControlName="ableToNotarize">
        <mat-radio-button color="primary" [value]="IntakeScriptFormControlStates.Yes"
          class="inline-block [width:100px]">Yes</mat-radio-button>
        <mat-radio-button color="primary" [value]="IntakeScriptFormControlStates.No"
          class="inline-block [width:100px]">No</mat-radio-button>
      </mat-radio-group>
    </div>
  </div>

  <div class="flex items-center md:flex-col ">
    <mat-form-field class="w-1/2 mt-4 2xl:w-full"
      *ngIf="form.get('ableToNotarize').value === IntakeScriptFormControlStates.No">
      <mat-label>Notarize note</mat-label>
      <textarea matInput cols="35" rows="8" placeholder="Note" formControlName="ableToNotarizeNotes"></textarea>
      <mat-error *ngIf="form.get('ableToNotarizeNotes').hasError('required')">
        This field is required.
      </mat-error>
    </mat-form-field>
  </div>




  <div class="flex items-center  w-1/2 justify-between 2xl:w-full md:flex-col">
    <mat-label class="md:flex-col 2xl:w-full">Has POA </mat-label>
    <div class="md:w-full text-left [min-width:300px]">
      <mat-radio-group aria-label="Select an option" formControlName="hasPOA">
        <mat-radio-button color="primary" [value]="IntakeScriptFormControlStates.Yes"
          class="inline-block [width:100px]">Yes</mat-radio-button>
        <mat-radio-button color="primary" [value]="IntakeScriptFormControlStates.No"
          class="inline-block [width:100px]">No</mat-radio-button>
        <mat-radio-button color="primary" class="inline-block [width:100px]"
          [value]="IntakeScriptFormControlStates.Not_sure">Not sure</mat-radio-button>
      </mat-radio-group>
    </div>
  </div>

  <div class="flex items-center md:flex-col ">
    <mat-form-field class="w-1/2 mt-4 2xl:w-full"
      *ngIf="form.get('hasPOA').value === IntakeScriptFormControlStates.Yes">
      <mat-label>Yearly POA Fee</mat-label>
      <input matInput type="number" [readOnly]="readOnly" formControlName="yearlyPOAFee">
    </mat-form-field>
  </div>

  <div class="flex items-center  w-1/2 justify-between 2xl:w-full md:flex-col">
    <mat-label class="md:flex-col 2xl:w-full">Has HOA </mat-label>
    <div class="md:w-full text-left [min-width:300px]">
      <mat-radio-group aria-label="Select an option" formControlName="hasHOA">
        <mat-radio-button color="primary" class="inline-block [width:100px]"
          [value]="IntakeScriptFormControlStates.Yes">Yes</mat-radio-button>
        <mat-radio-button color="primary" class="inline-block [width:100px]"
          [value]="IntakeScriptFormControlStates.No">No</mat-radio-button>
        <mat-radio-button color="primary" class="inline-block [width:100px]"
          [value]="IntakeScriptFormControlStates.Not_sure">Not sure</mat-radio-button>
      </mat-radio-group>
    </div>
  </div>

  <div class="flex items-center md:flex-col ">
    <mat-form-field class="w-1/2 mt-4 2xl:w-full"
      *ngIf="form.get('hasHOA').value === IntakeScriptFormControlStates.Yes">
      <mat-label>Yearly HOA Fee</mat-label>
      <input matInput type="number" [readOnly]="readOnly" formControlName="yearlyHOAFee">
    </mat-form-field>
  </div>

  <div class="flex items-center  w-1/2 justify-between 2xl:w-full md:flex-col">
    <mat-label class="md:flex-col 2xl:w-full">Has Liens </mat-label>
    <div class="md:w-full text-left [min-width:300px]">
      <mat-radio-group aria-label="Select an option" formControlName="hasLiens">
        <mat-radio-button color="primary" class="inline-block [width:100px]"
          [value]="IntakeScriptFormControlStates.Yes">Yes</mat-radio-button>
        <mat-radio-button color="primary" class="inline-block [width:100px]"
          [value]="IntakeScriptFormControlStates.No">No</mat-radio-button>
        <mat-radio-button color="primary" class="inline-block [width:100px]"
          [value]="IntakeScriptFormControlStates.Not_sure">Not sure</mat-radio-button>
      </mat-radio-group>
    </div>
  </div>

  <div class="flex items-center md:flex-col ">
    <mat-form-field class="w-1/2 mt-4 2xl:w-full"
      *ngIf="form.get('hasLiens').value === IntakeScriptFormControlStates.Yes">
      <mat-label>Has Liens Notes</mat-label>
      <input matInput [readOnly]="readOnly" formControlName="hasLiensNotes">
    </mat-form-field>
  </div>

  <div class="flex items-center  w-1/2 justify-between 2xl:w-full md:flex-col">
    <mat-label class="md:flex-col 2xl:w-full">Has Easement </mat-label>
    <div class="md:w-full text-left [min-width:300px]">
      <mat-radio-group aria-label="Select an option" formControlName="hasEasement">
        <mat-radio-button color="primary" class="inline-block [width:100px]"
          [value]="IntakeScriptFormControlStates.Yes">Yes</mat-radio-button>
        <mat-radio-button color="primary" class="inline-block [width:100px]"
          [value]="IntakeScriptFormControlStates.No">No</mat-radio-button>
        <mat-radio-button color="primary" class="inline-block [width:100px]"
          [value]="IntakeScriptFormControlStates.Not_sure">Not sure</mat-radio-button>
      </mat-radio-group>
    </div>
  </div>

  <div class="flex items-center md:flex-col ">
    <mat-form-field class="w-1/2 mt-4 2xl:w-full"
      *ngIf="form.get('hasEasement').value === IntakeScriptFormControlStates.Yes">
      <mat-label>Has Easement Notes</mat-label>
      <input matInput [readOnly]="readOnly" formControlName="hasEasementNotes">
    </mat-form-field>
  </div>

  <div class="flex items-center  w-1/2 justify-between 2xl:w-full md:flex-col">
    <mat-label class="md:flex-col 2xl:w-full">Has Pictures </mat-label>
    <div class="md:w-full text-left [min-width:300px]">
      <mat-radio-group aria-label="Select an option" formControlName="hasPictures">
        <mat-radio-button color="primary" class="inline-block [width:100px]"
          [value]="IntakeScriptFormControlStates.Yes">Yes</mat-radio-button>
        <mat-radio-button color="primary" class="inline-block [width:100px]"
          [value]="IntakeScriptFormControlStates.No">No</mat-radio-button>
      </mat-radio-group>
    </div>
  </div>

  <div class="flex items-center md:flex-col w-full 2xl:w-full"
    *ngIf="form.get('hasPictures').value === IntakeScriptFormControlStates.Yes">
    <app-drop-files class="w-1/2 2xl:w-full mb-3" elementRef="fileDropRef" label=""
      (onFileDropped)="onFileDropped($event)" [existingDocuments]="form.get('pictures').value " [multiple]="true"
      (resetControl)="pictures.reset()"></app-drop-files>
  </div>


  <div class="flex items-center  w-1/2 justify-between 2xl:w-full md:flex-col">
    <mat-label class="md:flex-col 2xl:w-full">Has Survey </mat-label>
    <div class="md:w-full text-left [min-width:300px]">
      <mat-radio-group aria-label="Select an option" formControlName="hasSurvey">
        <mat-radio-button color="primary" class="inline-block [width:100px]"
          [value]="IntakeScriptFormControlStates.Yes">Yes</mat-radio-button>
        <mat-radio-button color="primary" class="inline-block [width:100px]"
          [value]="IntakeScriptFormControlStates.No">No</mat-radio-button>
      </mat-radio-group>
    </div>
  </div>

  <div class="flex items-center  w-1/2 justify-between 2xl:w-full md:flex-col">
    <mat-label class="md:flex-col 2xl:w-full">Have Deed Copy </mat-label>
    <div class="md:w-full text-left [min-width:300px]">
      <mat-radio-group aria-label="Select an option" formControlName="haveDeedCopy">
        <mat-radio-button color="primary" class="inline-block [width:100px]"
          [value]="IntakeScriptFormControlStates.Yes">Yes</mat-radio-button>
        <mat-radio-button color="primary" class="inline-block [width:100px]"
          [value]="IntakeScriptFormControlStates.No">No</mat-radio-button>
      </mat-radio-group>
    </div>
  </div>

  <div class="flex items-center  w-1/2 justify-between 2xl:w-full md:flex-col">
    <mat-label class="md:flex-col 2xl:w-full">Can Scan Deed </mat-label>
    <div class=" md:w-full text-left [min-width:300px]">
      <mat-radio-group aria-label=" Select an option" formControlName="canScanDeed">
        <mat-radio-button color="primary" class="inline-block [width:100px]"
          [value]="IntakeScriptFormControlStates.Yes">Yes</mat-radio-button>
        <mat-radio-button color="primary" class="inline-block [width:100px]"
          [value]="IntakeScriptFormControlStates.No">No</mat-radio-button>
      </mat-radio-group>
    </div>
  </div>

  <div class="flex items-center gap-3 w-1/2 mt-6 md:flex-col 2xl:w-full">
    <mat-form-field class="w-full md:flex-col 2xl:w-full">
      <mat-label>Years Owned</mat-label>
      <input matInput type="number" [readOnly]="readOnly" class="w-full" formControlName="yearsOwned">
    </mat-form-field>

  </div>
  <div class="flex items-center gap-3 w-1/2 md:flex-col 2xl:w-full">
    <mat-form-field class="w-full md:flex-col 2xl:w-full">
      <mat-label>Back Taxes Owed</mat-label>
      <input matInput [readOnly]="readOnly" class=" w-full" formControlName="backTaxesOwed">
    </mat-form-field>
  </div>

  <div class="flex md:flex-col 2xl:w-full">
    <mat-form-field class="w-1/2 [height:150px] md:flex-col 2xl:w-full">
      <mat-label>Unique Features</mat-label>
      <mat-chip-grid #chipGrid aria-label="Unique Features" color="primary" highlighted="true">
        <mat-chip-row *ngFor="let features of form.controls.uniqueFeatures.value" (removed)="removeFeature(features)">
          {{ features }}
          <button matChipRemove [attr.aria-label]="'remove ' + features">
            <mat-icon>cancel</mat-icon>
          </button>
        </mat-chip-row>
      </mat-chip-grid>
      <input placeholder="New features..." #Features [matChipInputFor]="chipGrid"
        [matChipInputSeparatorKeyCodes]="separatorKeysCodes" (matChipInputTokenEnd)="addFeature($event)" />
    </mat-form-field>
  </div>

  <div class="flex md:flex-col 2xl:w-full">
    <mat-form-field class="w-1/2 [height:150px] md:flex-col 2xl:w-full">
      <mat-label>Improvements</mat-label>
      <mat-chip-grid #chipGridImprovements aria-label="Improvements" color="primary" highlighted="true">
        <mat-chip-row *ngFor="let newImprovements of form.controls.improvements.value"
          (removed)="removeimprovements(newImprovements)">
          {{ newImprovements }}
          <button matChipRemove [attr.aria-label]="'remove ' + newImprovements">
            <mat-icon>cancel</mat-icon>
          </button>
        </mat-chip-row>
      </mat-chip-grid>
      <input placeholder="New improvements..." #Improvements [matChipInputFor]="chipGridImprovements"
        [matChipInputSeparatorKeyCodes]="separatorKeysCodes" (matChipInputTokenEnd)="addimprovements($event)" />
    </mat-form-field>
  </div>

  <div class="flex md:flex-col 2xl:w-full">
    <mat-form-field class="w-1/2 [height:150px] md:flex-col 2xl:w-full">
      <mat-label>Additional Properties</mat-label>
      <mat-chip-grid #chipGridadditionalProperties aria-label="additionalProperties" color="primary" highlighted="true">
        <mat-chip-row *ngFor="let additionalProperties of form.controls.additionalProperties.value"
          (removed)="removeadditionalProperties(additionalProperties)">
          {{ additionalProperties }}
          <button matChipRemove [attr.aria-label]="'remove ' + additionalProperties">
            <mat-icon>cancel</mat-icon>
          </button>
        </mat-chip-row>
      </mat-chip-grid>
      <input placeholder="New additional Properties..." #additionalProperties
        [matChipInputFor]="chipGridadditionalProperties" [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
        (matChipInputTokenEnd)="addProperties($event)" />
    </mat-form-field>



  </div>

  <div class="flex items-start w-1/2 md:flex-col 2xl:w-full">
    <mat-form-field class="w-full">
      <mat-label>Intake Script Notes</mat-label>
      <textarea matInput cols="35" rows="8" placeholder="Note" formControlName="inTakeScriptNotes"></textarea>
    </mat-form-field>
  </div>

  <h2 class="m-0">Utilities</h2>
  <mat-chip-listbox class="my-2" selectable multiple aria-label="Fish selection" formControlName="utilities">
    <mat-chip-option *ngFor="let topping of utilities" [value]="topping">
      {{ topping }}
    </mat-chip-option>
  </mat-chip-listbox>

  <div class="flex items-start justify-end space-x-6">

    <button type="submit" mat-raised-button color="primary"
      class="[height:44px!important] [width:100px!important] text-lg" [hidden]="readOnly">Submit</button>
  </div>

</form>